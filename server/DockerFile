FROM node:18-alpine AS build

WORKDIR /app

COPY package*.json /app/

RUN npm install

COPY . /app/

RUN npx prisma generate

EXPOSE 4000

CMD [ "sh","-c","npx prisma migrate dev && npm run dev" ]